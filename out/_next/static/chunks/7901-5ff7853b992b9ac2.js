"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7901],{37901:function(e,n,o){o.r(n),o.d(n,{default:function(){return ne}});var r,t=o(50029),i=o(59499),a=o(16835),l=o(87794),s=o.n(l),d=o(55929),u=o(49501),c=o(31518),v=o(46206),p=o(71862),m=o(15205),f=o(56785),x=o(63192),h=o(76537),g=o(10697),w=o(33318),N=o(48410),T=o(68326),P=o(12614),U=o(16339),b=o(53134),C=o(627),y=o(67294),j=o(18269),Z=o(85893),_=function(){var e,n,o=(0,P.aQ)().chainId,r=(0,u.mV)().i18n,t=(0,U.T)(),i=(0,C.DG)(),l=(0,a.Z)(i,1)[0],s=(0,T.Z)(),d=s.maxFeePerGas,v=s.maxPriorityFeePerGas,p=(0,y.useState)(""),m=p[0],x=p[1],h=(0,y.useState)(""),g=h[0],w=h[1];return(0,y.useEffect)((function(){l||t((0,b.RX)({maxFee:void 0,maxPriorityFee:void 0}))}),[t,l]),(0,Z.jsxs)("div",{className:"flex gap-4",children:[(0,Z.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Z.jsx)(f.Z,{variant:"sm",className:"px-2",children:r._(r._("Max Fee"))}),(0,Z.jsxs)("div",{className:"flex items-baseline justify-between px-4 py-1 border rounded bg-dark-900 border-dark-700 hover:border-dark-600",children:[(0,Z.jsx)(f.Z,{weight:700,className:"relative flex items-baseline flex-grow gap-3 overflow-hidden",children:(0,Z.jsx)(N.Z,{value:m,onUserInput:function(e){t((0,b.iL)(e?(0,j.toWei)(e,"gwei"):void 0)),x(e)},placeholder:"".concat(o&&d?null===(e=c.ih.fromRawAmount(c.B5[o],(0,j.toWei)(d.toString(),"gwei")))||void 0===e?void 0:e.toSignificant(6):"0.00"),className:"font-medium leading-[36px] focus:placeholder:text-low-emphesis flex-grow w-full text-left bg-transparent text-inherit disabled:cursor-not-allowed",autoFocus:!0})}),(0,Z.jsx)(f.Z,{variant:"sm",children:"GWEI"})]})]}),(0,Z.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Z.jsx)(f.Z,{variant:"sm",className:"px-2",children:r._(r._("Max Priority Fee"))}),(0,Z.jsxs)("div",{className:"flex items-baseline justify-between px-4 py-1 border rounded bg-dark-900 border-dark-700 hover:border-dark-600",children:[(0,Z.jsx)(f.Z,{weight:700,className:"relative flex items-baseline flex-grow gap-3 overflow-hidden",children:(0,Z.jsx)(N.Z,{value:g,onUserInput:function(e){t((0,b.lz)(e?(0,j.toWei)(e,"gwei"):void 0)),w(e)},placeholder:"".concat(o&&v?null===(n=c.ih.fromRawAmount(c.B5[o],(0,j.toWei)(v.toString(),"gwei")))||void 0===n?void 0:n.toSignificant(6):"0.00"),className:"font-medium leading-[36px] focus:placeholder:text-low-emphesis flex-grow w-full text-left bg-transparent text-inherit disabled:cursor-not-allowed",autoFocus:!0})}),(0,Z.jsx)(f.Z,{variant:"sm",children:"GWEI"})]})]})]})},I=o(32036),E=o(59497),k=o(92088),A=o(40588),S=o(92659),O=o(62483),W=o(27262),R=o(30526),M=o(67993),F=o(46847),B=o(96033),H=o(22651),D=o(90573),L=o(60708),G=o(68411),V=o(22986),K=o(54907);!function(e){e[e.NOT_APPLICABLE=0]="NOT_APPLICABLE",e[e.WRAP=1]="WRAP",e[e.UNWRAP=2]="UNWRAP"}(r||(r={}));var X={wrapType:r.NOT_APPLICABLE};var q=o(73179),z=o(46430),Q=o(47981),J=function(e){var n=e.isOpen,o=e.tokens,r=e.onConfirm;return(0,Z.jsx)(z.Z.Controlled,{isOpen:n,onDismiss:r,children:(0,Z.jsx)(Q.W,{tokens:o})})},Y=o(68273),$=o(2962),ee=function(e){var n,o,l,N,T,U,j,z,Q,ee,ne,oe=e.banners,re=(0,u.mV)().i18n,te=(0,Y.jj)(),ie=(0,P.aQ)(),ae=ie.account,le=(ie.chainId,(0,O.e_)()),se=(0,C.DG)(),de=(0,a.Z)(se,1)[0],ue=(0,Y.dU)(),ce=ue.independentField,ve=ue.typedValue,pe=ue.recipient,me=(0,Y.SM)(),fe=me.v2Trade,xe=me.parsedAmount,he=me.currencies,ge=me.inputError,we=me.allowedSlippage,Ne=me.to,Te=[(0,O.U8)(null===te||void 0===te?void 0:te.inputCurrencyId),(0,O.U8)(null===te||void 0===te?void 0:te.outputCurrencyId)],Pe=Te[0],Ue=Te[1],be=(0,y.useState)(!1),Ce=be[0],ye=be[1],je=(0,y.useMemo)((function(){var e,n;return null!==(e=null===(n=[Pe,Ue])||void 0===n?void 0:n.filter((function(e){var n;return null!==(n=null===e||void 0===e?void 0:e.isToken)&&void 0!==n&&n})))&&void 0!==e?e:[]}),[Pe,Ue]),Ze=(0,y.useCallback)((function(){ye(!0)}),[]),_e=je&&je.filter((function(e){return!Boolean(e.address in le)})),Ie=function(e,n,o){var i=(0,P.aQ)(),a=i.chainId,l=i.account,d=(0,K.lz)(),u=(0,V._h)(null!==l&&void 0!==l?l:void 0,e),v=(0,y.useMemo)((function(){return(0,L.e)(o,e)}),[e,o]),p=(0,G.h7)();return(0,y.useMemo)((function(){if(!d||!a||!e||!n||a===c.a_.CELO)return X;var o=c.FX[a];if(!o)return X;var i=Boolean(null===v||void 0===v?void 0:v.greaterThan("0")),l=v&&u&&!u.lessThan(v);return e.isNative&&o.equals(n)?{wrapType:r.WRAP,execute:l&&v?(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.deposit({value:"0x".concat(v.quotient.toString(16))});case 3:n=e.sent,p(n,{summary:"Wrap ".concat(v.toSignificant(6)," ").concat(c.B5[a].symbol," to ").concat(c.FX[a].symbol)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Could not deposit",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))):void 0,inputError:l?void 0:i?"Insufficient ".concat(c.B5[a].symbol," balance"):"Enter ".concat(c.B5[a].symbol," amount")}:o.equals(e)&&n.isNative?{wrapType:r.UNWRAP,execute:l&&v?(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.withdraw("0x".concat(v.quotient.toString(16)));case 3:n=e.sent,p(n,{summary:"Unwrap ".concat(v.toSignificant(6)," ").concat(c.FX[a].symbol," to ").concat(c.B5[a].symbol)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Could not withdraw",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))):void 0,inputError:l?void 0:i?"Insufficient ".concat(c.FX[a].symbol," balance"):"Enter ".concat(c.FX[a].symbol," amount")}:X}),[d,a,e,n,v,u,p])}(he[b.gN.INPUT],he[b.gN.OUTPUT],ve),Ee=Ie.wrapType,ke=Ie.execute,Ae=Ie.inputError,Se=Ee!==r.NOT_APPLICABLE,Oe=(0,R.Z)(pe).address,We=Se?void 0:fe,Re=(0,y.useMemo)((function(){var e,n;return Se?(e={},(0,i.Z)(e,b.gN.INPUT,xe),(0,i.Z)(e,b.gN.OUTPUT,xe),e):(n={},(0,i.Z)(n,b.gN.INPUT,ce===b.gN.INPUT?xe:null===We||void 0===We?void 0:We.inputAmount),(0,i.Z)(n,b.gN.OUTPUT,ce===b.gN.OUTPUT?xe:null===We||void 0===We?void 0:We.outputAmount),n)}),[ce,xe,Se,We]),Me=(0,D.NF)(Re[b.gN.INPUT]),Fe=(0,D.NF)(Re[b.gN.OUTPUT]),Be=(0,S.Ld)(Me,Fe),He=(0,Y._r)(),De=He.onSwitchTokens,Le=He.onCurrencySelection,Ge=He.onUserInput,Ve=!ge,Ke=ce===b.gN.INPUT?b.gN.OUTPUT:b.gN.INPUT,Xe=(0,y.useCallback)((function(e){Ge(b.gN.INPUT,e)}),[Ge]),qe=(0,y.useCallback)((function(e){Ge(b.gN.OUTPUT,e)}),[Ge]),ze=(0,y.useState)({showConfirm:!1,tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),Qe=ze[0],Je=Qe.showConfirm,Ye=Qe.tradeToConfirm,$e=Qe.swapErrorMessage,en=Qe.attemptingTxn,nn=Qe.txHash,on=ze[1],rn=(T={},(0,i.Z)(T,ce,ve),(0,i.Z)(T,Ke,Se?null!==(n=null===(o=Re[ce])||void 0===o?void 0:o.toExact())&&void 0!==n?n:"":null!==(l=null===(N=Re[Ke])||void 0===N?void 0:N.toSignificant(6))&&void 0!==l?l:""),T),tn=Boolean(he[b.gN.INPUT]&&he[b.gN.OUTPUT]&&(null===(U=Re[ce])||void 0===U?void 0:U.greaterThan(c.QA.BigInt(0)))),an=!(null!==We&&void 0!==We&&We.route),ln=(0,W.re)(We,we),sn=(0,a.Z)(ln,2),dn=sn[0],un=sn[1],cn=(0,y.useCallback)((0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un();case 2:case"end":return e.stop()}}),e)}))),[un]),vn=(0,y.useState)(!1),pn=vn[0],mn=vn[1];(0,y.useEffect)((function(){dn===W.UK.PENDING&&mn(!0)}),[dn,pn]);var fn=(0,B.Z)(),xn=(0,H.od)(We,we,Ne,undefined,null,fn),hn=xn.callback,gn=xn.error,wn=(0,C.RO)(),Nn=(0,a.Z)(wn,1)[0],Tn=(0,y.useCallback)((function(){hn&&(Be&&!(0,A.ZP)(Be)||(on({attemptingTxn:!0,tradeToConfirm:Ye,showConfirm:Je,swapErrorMessage:void 0,txHash:void 0}),hn().then((function(e){var n,o,r,t;on({attemptingTxn:!1,tradeToConfirm:Ye,showConfirm:Je,swapErrorMessage:void 0,txHash:e}),gtag("event",null===pe?"Swap w/o Send":(null!==Oe&&void 0!==Oe?Oe:pe)===ae?"Swap w/o Send + recipient":"Swap w/ Send",{event_category:"Swap",event_label:[null===We||void 0===We||null===(n=We.inputAmount)||void 0===n||null===(o=n.currency)||void 0===o?void 0:o.symbol,null===We||void 0===We||null===(r=We.outputAmount)||void 0===r||null===(t=r.currency)||void 0===t?void 0:t.symbol,Nn?"SH":"MH"].join("/")}),gtag("event",Nn?"Swap with multihop disabled":"Swap with multihop enabled",{event_category:"Routing"})})).catch((function(e){on({attemptingTxn:!1,tradeToConfirm:Ye,showConfirm:Je,swapErrorMessage:e.message,txHash:void 0})}))))}),[hn,Be,Ye,Je,pe,Oe,ae,null===We||void 0===We||null===(j=We.inputAmount)||void 0===j||null===(z=j.currency)||void 0===z?void 0:z.symbol,null===We||void 0===We||null===(Q=We.outputAmount)||void 0===Q||null===(ee=Q.currency)||void 0===ee?void 0:ee.symbol,Nn]),Pn=(0,y.useMemo)((function(){var e=null===We||void 0===We?void 0:We.priceImpact;return(0,A.oX)(e&&Be?e.greaterThan(Be)?e:Be:null!==e&&void 0!==e?e:Be)}),[Be,We]),Un=!(0,M.Z)()&&!ge&&(dn===W.UK.NOT_APPROVED||dn===W.UK.PENDING||pn&&dn===W.UK.APPROVED)&&!(Pn>3&&!de),bn=(0,y.useCallback)((function(){on({showConfirm:!1,tradeToConfirm:Ye,attemptingTxn:en,swapErrorMessage:$e,txHash:nn}),nn&&Ge(b.gN.INPUT,"")}),[en,Ge,$e,Ye,nn]),Cn=(0,y.useCallback)((function(){on({tradeToConfirm:We,swapErrorMessage:$e,txHash:nn,attemptingTxn:en,showConfirm:Je})}),[en,Je,$e,We,nn]),yn=(0,y.useCallback)((function(e){mn(!1),Le(b.gN.INPUT,e)}),[Le]),jn=(0,y.useCallback)((function(e){Le(b.gN.OUTPUT,e)}),[Le]),Zn=(0,F.G)(null===he||void 0===he?void 0:he.INPUT,null===he||void 0===he?void 0:he.OUTPUT),_n=(0,y.useMemo)((function(){switch(Pn){case 0:case 1:case 2:default:return"text-low-emphesis";case 3:return"text-yellow";case 4:return"text-red"}}),[Pn]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)($.PB,{title:"Swap"}),(0,Z.jsx)(h.Z,{isOpen:Je,trade:We,originalTrade:Ye,onAcceptChanges:Cn,attemptingTxn:en,txHash:nn,recipient:pe,allowedSlippage:we,onConfirm:Tn,swapErrorMessage:$e,onDismiss:bn}),(0,Z.jsx)(J,{isOpen:_e.length>0&&!Ce,tokens:_e,onConfirm:Ze}),(0,Z.jsxs)(q.yz,{children:[(0,Z.jsx)("div",{className:"px-2",children:(0,Z.jsx)(E.Z,{inputCurrency:he[b.gN.INPUT],outputCurrency:he[b.gN.OUTPUT]})}),(0,Z.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Z.jsx)(k.Z,{spendFromWallet:!0,header:k.Z.Header,currency:he[b.gN.INPUT],value:rn[b.gN.INPUT],onChange:Xe,onSelect:yn}),(0,Z.jsx)("div",{className:"z-0 flex justify-center -mt-6 -mb-6",children:(0,Z.jsx)("div",{role:"button",className:"p-1.5 rounded-full bg-dark-800 border shadow-md border-dark-700 hover:border-dark-600",onClick:function(){mn(!1),De()},children:(0,Z.jsx)(d.Z,{width:14,className:"text-high-emphesis hover:text-white"})})}),(0,Z.jsx)(k.Z,{spendFromWallet:!0,header:k.Z.Header,currency:he[b.gN.OUTPUT],value:rn[b.gN.OUTPUT],onChange:qe,onSelect:jn,priceImpact:Be,priceImpactCss:_n}),fn&&(0,Z.jsx)(_,{}),de&&(0,Z.jsx)(m.Z,{recipient:pe,action:b.He}),Boolean(We)&&(0,Z.jsx)(w.Z,{inputCurrency:he[b.gN.INPUT],outputCurrency:he[b.gN.OUTPUT],trade:We,recipient:null!==pe&&void 0!==pe?pe:void 0}),We&&an&&tn&&(0,Z.jsxs)(f.Z,{variant:"xs",className:"py-2 text-center",children:[re._(re._("Insufficient liquidity for this trade."))," ",Nn&&re._(re._("Try enabling multi-hop trades"))]}),Zn?(0,Z.jsx)(p.ZP,{color:"red",disabled:!0,fullWidth:!0,className:"rounded-2xl md:rounded",children:re._(re._("Unsupported Asset"))}):ae?Se?(0,Z.jsx)(p.ZP,{fullWidth:!0,color:"blue",disabled:Boolean(Ae),onClick:ke,className:"rounded-2xl md:rounded",children:null!==Ae&&void 0!==Ae?Ae:Ee===r.WRAP?re._(re._("Wrap")):Ee===r.UNWRAP?re._(re._("Unwrap")):null}):Un?(0,Z.jsxs)("div",{children:[dn!==W.UK.APPROVED&&(0,Z.jsx)(p.ZP,{fullWidth:!0,loading:dn===W.UK.PENDING,onClick:cn,disabled:dn!==W.UK.NOT_APPROVED||pn,className:"rounded-2xl md:rounded",children:re._(re._("Approve {0}",{0:null===(ne=he[b.gN.INPUT])||void 0===ne?void 0:ne.symbol}))}),dn===W.UK.APPROVED&&(0,Z.jsx)(p.ZP,{color:Ve&&Pn>2?"red":"gradient",onClick:function(){de?Tn():on({tradeToConfirm:We,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},fullWidth:!0,id:"swap-button",disabled:!Ve||dn!==W.UK.APPROVED||Pn>3&&!de,className:"rounded-2xl md:rounded",children:Pn>3&&!de?re._(re._("Price Impact High")):Pn>2?re._(re._("Swap Anyway")):re._(re._("Swap"))})]}):(0,Z.jsx)(p.ZP,{color:Ve&&Pn>2&&!gn?"red":"gradient",fullWidth:!0,onClick:function(){de?Tn():on({tradeToConfirm:We,attemptingTxn:!1,swapErrorMessage:void 0,showConfirm:!0,txHash:void 0})},id:"swap-button",disabled:!Ve||Pn>3&&!de||!!gn,className:"rounded-2xl md:rounded",children:ge||(Pn>3&&!de?re._(re._("Price Impact Too High")):Pn>2?re._(re._("Swap Anyway")):re._(re._("Swap")))}):(0,Z.jsx)(x.Z,{color:"blue",variant:"filled",fullWidth:!0,className:"rounded-2xl md:rounded"}),de&&$e?(0,Z.jsx)(g.Z,{error:$e}):null,Zn?(0,Z.jsx)(I.Z,{currencies:[he.INPUT,he.OUTPUT]}):null]})]}),(0,Z.jsx)(v.Z,{banners:oe})]})};ee.Layout=(0,q.Pf)("swap-page");var ne=ee},55929:function(e,n,o){var r=o(67294);const t=r.forwardRef((function(e,n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),r.createElement("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));n.Z=t}}]);