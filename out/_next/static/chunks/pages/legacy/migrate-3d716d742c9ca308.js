(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{58173:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.signERC2612Permit=t.signDaiPermit=void 0;const a=n(20772),o=n(44625),i="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",s=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],c=e=>"".padEnd(e,"0"),l=(e,t)=>r(void 0,void 0,void 0,(function*(){return o.hexToUtf8((yield a.call(e,t,"0x06fdde03")).substr(130))})),u=(e,t)=>r(void 0,void 0,void 0,(function*(){if("string"!==typeof t)return t;const n=t,[r,o]=yield Promise.all([l(e,n),a.getChainId(e)]);return{name:r,version:"1",chainId:o,verifyingContract:n}}));t.signDaiPermit=(e,t,n,o,l,d)=>r(void 0,void 0,void 0,(function*(){const r=t.verifyingContract||t,f={holder:n,spender:o,nonce:d||(yield a.call(e,r,`0x7ecebe00${c(24)}${n.substr(2)}`)),expiry:l||i,allowed:!0},p=((e,t)=>({types:{EIP712Domain:s,Permit:[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}]},primaryType:"Permit",domain:t,message:e}))(f,yield u(e,t)),m=yield a.signData(e,n,p);return Object.assign(Object.assign({},m),f)})),t.signERC2612Permit=(e,t,n,o,l=i,d,f)=>r(void 0,void 0,void 0,(function*(){const r=t.verifyingContract||t,p={owner:n,spender:o,value:l,nonce:f||(yield a.call(e,r,`0x7ecebe00${c(24)}${n.substr(2)}`)),deadline:d||i},m=((e,t)=>({types:{EIP712Domain:s,Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:t,message:e}))(p,yield u(e,t)),h=yield a.signData(e,n,m);return Object.assign(Object.assign({},h),p)}))},44625:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hexToUtf8=void 0;const a=r(n(57458));t.hexToUtf8=function(e){let t="",n=0,r=(e=(e=(e=(e=(e=e.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length;for(let a=0;a<r;a+=2)n=parseInt(e.substr(a,2),16),t+=String.fromCharCode(n);return a.default.decode(t)}},20772:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.call=t.getChainId=t.setChainIdOverride=t.signData=t.send=void 0;t.send=(e,t,n)=>new Promise(((r,a)=>{var o;const i={id:Math.floor(1e10*Math.random()),method:t,params:n},s=(e,t)=>{e?a(e):t.error?(console.error(t.error),a(t.error)):r(t.result)},c=(null===(o=e.provider)||void 0===o?void 0:o.provider)||e.provider||e;c.getUncheckedSigner?c.send(t,n).then((e=>r(e))).catch((e=>a(e))):c.sendAsync?c.sendAsync(i,s):c.send(i,s).catch((e=>{if("Hardhat Network doesn't support JSON-RPC params sent as an object"!==e.message)throw e;c.send(t,n).then((e=>r(e))).catch((e=>a(e)))}))}));const a=(e,t,a)=>n(void 0,void 0,void 0,(function*(){if((yield e.getAddress()).toLowerCase()!==t.toLowerCase())throw new Error("Signer address does not match requested signing address");const n=a.types,{EIP712Domain:o}=n,i=r(n,["EIP712Domain"]),s=yield e.signTypedData?e.signTypedData(a.domain,i,a.message):e._signTypedData(a.domain,i,a.message);return{r:"0x"+(c=s).substring(2).substring(0,64),s:"0x"+c.substring(2).substring(64,128),v:parseInt(c.substring(2).substring(128,130),16)};var c}));t.signData=(e,r,o)=>n(void 0,void 0,void 0,(function*(){if(e._signTypedData||e.signTypedData)return a(e,r,o);const n="string"===typeof o?o:JSON.stringify(o),i=yield t.send(e,"eth_signTypedData_v4",[r,n]).catch((n=>{if("Method eth_signTypedData_v4 not supported."===n.message)return t.send(e,"eth_signTypedData",[r,o]);throw n}));return{r:i.slice(0,66),s:"0x"+i.slice(66,130),v:parseInt(i.slice(130,132),16)}}));let o=null;t.setChainIdOverride=e=>{o=e},t.getChainId=e=>n(void 0,void 0,void 0,(function*(){return o||t.send(e,"eth_chainId")})),t.call=(e,n,r)=>t.send(e,"eth_call",[{to:n,data:r},"latest"])},60972:function(e,t,n){"use strict";var r=n(49501),a=n(11163),o=n(85893);t.Z=function(){var e=(0,r.mV)().i18n,t=(0,a.useRouter)();return(0,o.jsx)("div",{children:(0,o.jsxs)("a",{onClick:t.back,className:"flex items-center space-x-2 text-base text-center cursor-pointer font text-secondary hover:text-high-emphesis",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),(0,o.jsx)("span",{children:e._(e._("Go Back"))})]})})}},66223:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(31969),a=(n(67294),n(41626)),o=n(85893);function i(e){var t=e.currency0,n=e.currency1,i=e.className,s=void 0===i?"":i,c=e.logoClassName,l=void 0===c?"":c,u=e.size,d=void 0===u?16:u;return(0,o.jsxs)("div",{className:(0,r.AK)("flex items-center space-x-2",s),children:[(0,o.jsx)(a.X,{className:l,currency:t,size:d.toString()+"px"}),(0,o.jsx)(a.X,{className:l,currency:n,size:d.toString()+"px"})]})}},48410:function(e,t,n){"use strict";var r=n(59499),a=n(4730),o=n(31969),i=n(67294),s=n(85893),c=["value","onUserInput","placeholder","className","min"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=RegExp("^\\d*(?:\\\\[.])?\\d*$"),f=(0,i.forwardRef)((function(e,t){var n=e.value,r=e.onUserInput,i=e.placeholder,l=e.className,f=void 0===l?"w-0 p-0 text-2xl bg-transparent":l,p=e.min,m=(0,a.Z)(e,c);return(0,s.jsx)("input",u(u({},m),{},{ref:t,value:n,onChange:function(e){var t;(""===(t=e.target.value.replace(/,/g,"."))||d.test((0,o.hr)(t)))&&r(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:i||"0.0",min:p||0,minLength:1,maxLength:79,spellCheck:"false",className:(0,o.AK)("relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",f)}))}));f.displayName="NumericalInput",t.Z=f},23987:function(e,t,n){"use strict";var r=n(59499),a=n(4730),o=n(31969),i=n(67294),s=n(85893),c=["value","onUserInput","placeholder","className","align","fontSize"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=RegExp("^\\d*$"),f=i.memo((function(e){var t=e.value,n=e.onUserInput,r=e.placeholder,i=e.className,l=e.align,f=e.fontSize,p=(0,a.Z)(e,c);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",u({value:t,onChange:function(e){var t;(""===(t=e.target.value.replace(/,/g,".").replace(/%/g,""))||d.test((0,o.hr)(t)))&&Number(t)<=100&&n(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*$",placeholder:r||"100%",maxLength:3,className:(0,o.AK)("right"===l&&"text-right","relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",i),style:{fontSize:f}},p))})}));f.displayName="PercentInput",t.Z=f},39281:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(59499),a=n(4730),o=n(31969),i=n(67294),s=n(85893),c=["value","onUserInput","placeholder","className","align","fontSize"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=i.memo((function(e){var t=e.value,n=e.onUserInput,r=(e.placeholder,e.className),i=void 0===r?"flex w-full h-full p-3 font-bold rounded overflow-ellipsis recipient-address-input bg-dark-900 placeholder-low-emphesis":r,l=e.align,d=e.fontSize,f=void 0===d?"24px":d,p=(0,a.Z)(e,c);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",u({value:t,onChange:function(e){n(e.target.value.replace(/\s+/g,""))},inputMode:"text",title:"Wallet Address or ENS name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:"Wallet Address or ENS name",pattern:"^(0x[a-fA-F0-9]{40})$",type:"text",className:(0,o.AK)("right"===l&&"text-right","font-medium bg-transparent whitespace-nowrap overflow-ellipsis flex-auto",i),style:{fontSize:f}},p))})}));d.displayName="AddressInput";var f=d,p=n(48410),m={Address:f,Percent:n(23987).Z,Numeric:p.Z}},80108:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(50029),a=n(16835),o=n(87794),i=n.n(o),s=n(61744),c=n(5506),l=n(61782),u=n(49501),d=n(31518),f=n(60972),p=n(17141),m=n(53344),h=n(9008),v=n.n(h),g=n(67294),y=n(71862),x=n(72457),b=n(15097),k=n(66223),w=n(31969),_=n(85893),j=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return(0,_.jsx)("div",{className:(0,w.AK)("flex flex-col justify-center items-center py-4 px-3 rounded min-h-empty",r),children:t})},P=n(39281),O=n(56785),S=n(63192),T=n(59499),N=n(12614),L=n(68411),A=n(27812),C=n(19485),E=n(62483),M=function(){var e=(0,N.aQ)(),t=e.account,n=e.chainId,o=(0,g.useState)([]),s=o[0],c=o[1],l=(0,g.useState)(),u=l[0],f=l[1],p=(0,g.useState)(!1),m=p[0],h=p[1],v=(0,g.useState)(!0),y=v[0],x=v[1],b=(0,E.e_)(),k=(0,g.useRef)(!1),w=(0,g.useCallback)((0,r.Z)(i().mark((function e(){var r,o,s,l,u,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,k.current=!0,!n||![d.a_.ETHEREUM,d.a_.BSC,d.a_.MATIC,d.a_.FANTOM,d.a_.AVALANCHE,d.a_.MOONBEAM].includes(n)){e.next=11;break}return r={},(0,T.Z)(r,d.a_.ETHEREUM,{uniswap_v2:"https://api.covalenthq.com/v1/".concat(d.a_.ETHEREUM,"/xy=k/uniswap_v2/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f")}),(0,T.Z)(r,d.a_.BSC,{pancakeswap_v2:"https://api.covalenthq.com/v1/".concat(d.a_.BSC,"/xy=k/pancakeswap_v2/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f")}),(0,T.Z)(r,d.a_.MATIC,{quickswap:"https://api.covalenthq.com/v1/".concat(d.a_.MATIC,"/xy=k/quickswap/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f")}),(0,T.Z)(r,d.a_.FANTOM,{spiritswap:"https://api.covalenthq.com/v1/".concat(d.a_.FANTOM,"/xy=k/spiritswap/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f"),spookyswap:"https://api.covalenthq.com/v1/".concat(d.a_.FANTOM,"/xy=k/spookyswap/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f")}),(0,T.Z)(r,d.a_.AVALANCHE,{traderjoe:"https://api.covalenthq.com/v1/".concat(d.a_.AVALANCHE,"/xy=k/traderjoe/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f"),pangolin:"https://api.covalenthq.com/v1/".concat(d.a_.AVALANCHE,"/xy=k/pangolin/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f")}),(0,T.Z)(r,d.a_.MOONBEAM,{stellaswap:"https://api.covalenthq.com/v1/".concat(d.a_.MOONBEAM,"/xy=k/stellaswap/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f"),beamswap:"https://api.covalenthq.com/v1/".concat(d.a_.MOONBEAM,"/xy=k/beamswap/address/").concat(String(t).toLowerCase(),"/balances/?quote-currency=USD&format=JSON&key=ckey_07aac227aaed444687021bf548f")}),o=r,e.next=6,Promise.all(Object.values(o[n]).map((function(e){return fetch(e).then((function(e){return e.json()}))})));case 6:s=e.sent,l=Object.keys(o[n]),u=s.map((function(e,t){var n,r;return[l[t],null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.items)||void 0===r?void 0:r.filter((function(e){return"0"!==e.balance}))]})),(f=null===u||void 0===u?void 0:u.reduce((function(e,t){var r=(0,a.Z)(t,2),o=r[0],i=r[1];return[].concat((0,A.Z)(e),(0,A.Z)(i.map((function(e){var t=new d.WU(n,(0,C.getAddress)(e.pool_token.contract_address),e.pool_token.contract_decimals,e.pool_token.contract_ticker_symbol),r=(0,C.getAddress)(e.token_0.contract_address),a=(0,C.getAddress)(e.token_1.contract_address),i=r in b?b[r]:new d.WU(n,r,e.token_0.contract_decimals,e.token_0.contract_ticker_symbol),s=a in b?b[a]:new d.WU(n,a,e.token_1.contract_decimals,e.token_1.contract_ticker_symbol);return{dex:o,address:t.address,decimals:t.decimals,name:"".concat(i.symbol,"-").concat(s.symbol," LP Token"),symbol:t.symbol,balance:d.ih.fromRawAmount(t,e.pool_token.balance),totalSupply:e.pool_token.total_supply,tokenA:i,tokenB:s,version:e.version}}))))}),[]))&&c(f);case 11:return e.prev=11,x(!1),k.current=!1,e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,,11,15]])}))),[n,t,b]);return(0,g.useEffect)((function(){n&&t&&!k.current&&w()}),[t,n,w]),{updateLPTokens:w,lpTokens:s,selectedLPToken:u,setSelectedLPToken:f,selectedLPTokenAllowed:m,setSelectedLPTokenAllowed:h,loading:y,updatingLPTokens:k.current}},D=n(21046),Z=n(54907),I=n(58173),q=function(e){var t=(0,N.aQ)(),n=(t.chainId,t.library),a=t.account,o=(0,Z.Uv)(e),s=1200,c=e,l=(0,g.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a,l,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=9;break}return a=Math.floor((new Date).getTime()/1e3)+s,l=[t.tokenA.address,t.tokenB.address,n,D._Y,D._Y,a],e.next=5,(r=o.estimateGas).migrate.apply(r,l);case 5:return u=e.sent,d=o.migrate.apply(o,l.concat([{gasLimit:u.mul(120).div(100)}])),gtag("event","".concat(c,"->Sushiswap"),{event_category:"Migrate",event_label:"migrate",event_action:"".concat(c,"->Sushiswap")}),e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[o,s,c]),u=(0,g.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t,r){var l,u,d,f,p,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!o){e.next=14;break}return u=Math.floor((new Date).getTime()/1e3)+s,e.next=4,(0,I.signERC2612Permit)(n,t.address,a,o.address,r.toString(),u);case 4:return d=e.sent,f=[t.tokenA.address,t.tokenB.address,r,D._Y,D._Y,u,d.v,d.r,d.s],e.next=8,(l=o.estimateGas).migrateWithPermit.apply(l,f);case 8:return p=e.sent,e.next=11,o.migrateWithPermit.apply(o,f.concat([{gasLimit:p.mul(120).div(100)}]));case 11:return m=e.sent,gtag("event","".concat(c,"->Sushiswap"),{event_category:"Migrate",event_label:"migrateWithPermit",event_action:"".concat(c,"->Sushiswap")}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[a,n,o,s,c]);return{migrate:l,migrateWithPermit:u}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,T.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(){var e,t=(0,N.aQ)(),n=t.library,a=t.account,o=(t.chainId,M()),c=q(null===o||void 0===o||null===(e=o.selectedLPToken)||void 0===e?void 0:e.dex),l=c.migrate,u=(c.migrateWithPermit,(0,g.useState)()),d=u[0],f=u[1],p=(0,g.useState)(""),m=p[0],h=p[1],v=(0,L.h7)(),y=(0,g.useState)(null),x=y[0],b=y[1],k=(0,L.ub)(null!==x&&void 0!==x?x:void 0);(0,g.useEffect)((function(){o.setSelectedLPToken(void 0)}),[d]);var w=(0,g.useCallback)((0,r.Z)(i().mark((function e(){var t,r,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.selectedLPToken&&a&&n)){e.next=13;break}return t=(0,s.vz)(m,o.selectedLPToken.decimals),r=l,e.next=5,r(o.selectedLPToken,t);case 5:return c=e.sent,v(c,{summary:"Migrate ".concat(o.selectedLPToken.symbol," liquidity to SushiSwap")}),b(c.hash),e.next=10,c.wait();case 10:return o.setSelectedLPToken(void 0),e.next=13,o.updateLPTokens();case 13:case"end":return e.stop()}}),e)}))),[o,a,n,m,l,v]);return B(B({},o),{},{amount:m,setAmount:h,mode:d,setMode:f,onMigrate:w,pendingMigrationHash:x,isMigrationPending:k})},z=n(27262),F=d.QA.BigInt(0),W=function(e){var t=e.state,n=(0,u.mV)().i18n,r=(0,g.useCallback)((function(){t.selectedLPToken&&t.setAmount((0,s.bM)(t.selectedLPToken.balance.quotient.toString(),t.selectedLPToken.decimals))}),[t]);return(0,g.useEffect)((function(){0!==t.lpTokens.length&&t.selectedLPToken||t.setAmount("")}),[t]),t.lpTokens.length?t.selectedLPToken?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"flex justify-between",children:(0,_.jsxs)("div",{className:"text-sm text-secondary",children:[n._(n._("Balance")),": ",(0,_.jsx)("span",{className:"text-primary",children:t.selectedLPToken.balance.toSignificant(4)})]})}),(0,_.jsxs)("div",{className:"relative flex items-center w-full mb-4",children:[(0,_.jsx)(P.Z.Numeric,{className:"w-full p-3 rounded bg-dark-700 focus:ring focus:ring-pink",value:t.amount,onUserInput:function(e){return t.setAmount(e)}}),(0,_.jsx)(y.ZP,{variant:"outlined",color:"pink",size:"xs",onClick:r,className:"absolute right-4 focus:ring focus:ring-pink",children:n._(n._("MAX"))})]})]}):(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"p-3 text-center rounded cursor-not-allowed bg-dark-800",children:(0,_.jsx)(O.Z,{variant:"lg",className:"text-secondary",children:0===t.lpTokens.length?"No LP tokens found":"Select an LP Token"})})}):null},V=function(e){var t=e.lpToken,n=e.onToggle,r=e.isSelected;e.updating,e.exchange;return(0,_.jsxs)("div",{className:"flex items-center justify-between px-3 py-5 rounded cursor-pointer bg-dark-800 hover:bg-dark-700",onClick:function(){return n(t)},children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_.jsx)(k.Z,{currency0:t.tokenA,currency1:t.tokenB,size:20}),(0,_.jsx)(O.Z,{variant:"lg",className:"text-primary",children:"".concat(t.tokenA.symbol,"/").concat(t.tokenB.symbol)}),t.dex&&(0,_.jsx)(p.Z,{color:"purple",label:t.dex})]}),r?(0,_.jsx)(c.Z,{width:16,height:16}):(0,_.jsx)(l.Z,{width:16,height:16})]},t.address)},J=function(e){var t,n,o,c,l=e.state,f=e.exchange,p=(0,u.mV)().i18n,h=(0,g.useState)({}),v=h[0],x=h[1],k=(0,Z.Uv)(null===(t=l.selectedLPToken)||void 0===t?void 0:t.dex),w=(0,z.qL)(null===(n=l.selectedLPToken)||void 0===n?void 0:n.balance,null===k||void 0===k?void 0:k.address),j=(0,a.Z)(w,2),P=j[0],O=j[1],S=!(null===(o=l.selectedLPToken)||void 0===o||!o.balance)&&(null===(c=l.selectedLPToken)||void 0===c?void 0:c.balance.equalTo(F));if((0,g.useEffect)((function(){x({})}),[l.selectedLPToken]),!l.selectedLPToken)return null;var T=d.QA.lessThan(l.selectedLPToken.balance.quotient,d.QA.BigInt((0,s.vz)(l.amount||"0",l.selectedLPToken.decimals).toString())),N=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x({}),e.prev=1,console.log("onMigrate"),e.next=5,l.onMigrate();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),x(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:"space-y-4",children:[T?(0,_.jsx)("div",{className:"text-sm text-primary",children:p._(p._("Insufficient Balance"))}):l.loading?(0,_.jsx)(b.Z,{children:p._(p._("Loading"))}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(y.ZP,{fullWidth:!0,loading:P===z.UK.PENDING,onClick:O,disabled:P!==z.UK.NOT_APPROVED,children:P===z.UK.APPROVED?p._(p._("Approved")):p._(p._("Approve"))}),P===z.UK.APPROVED&&(0,_.jsx)(y.ZP,{fullWidth:!0,loading:l.isMigrationPending,disabled:S||l.isMigrationPending||!l.amount,onClick:N,children:p._(p._("Migrate"))})]}),v.message&&v.code!==m.PM&&(0,_.jsx)("div",{className:"font-medium text-center text-red",children:v.message}),(0,_.jsx)("div",{className:"text-sm text-center text-low-emphesis",children:p._(p._("Your {exchange} {0}/{1} liquidity will become SushiSwap {2}/{3} liquidity.",{0:l.selectedLPToken.tokenA.symbol,1:l.selectedLPToken.tokenB.symbol,2:l.selectedLPToken.tokenA.symbol,3:l.selectedLPToken.tokenB.symbol,exchange:f}))})]})},H=function(e){var t=e.state,n=e.exchange,r=(0,u.mV)().i18n;function a(e){t.setSelectedLPToken(t.selectedLPToken!==e?e:void 0),t.setAmount("")}return 0===t.lpTokens.length?(0,_.jsx)(j,{children:r._(r._("No Liquidity found"))}):(0,_.jsx)(_.Fragment,{children:t.lpTokens.reduce((function(e,r){return r.balance&&d.QA.greaterThan(r.balance.quotient,d.QA.BigInt(0))&&e.push((0,_.jsx)(V,{lpToken:r,onToggle:a,isSelected:t.selectedLPToken===r,updating:t.updatingLPTokens,exchange:n})),e}),[])})};function Q(){var e,t=(0,u.mV)().i18n,n=(0,N.aQ)(),r=n.account,a=n.chainId,o=R();return a===d.a_.ETHEREUM?e="Uniswap":a===d.a_.BSC?e="PancakeSwap":a===d.a_.MATIC?e="QuickSwap":a===d.a_.FANTOM&&(e="SpiritSwap or SpookySwap"),(0,_.jsxs)(x.Z,{id:"migrate-page",className:"py-4 mx-auto space-y-6 md:py-8 lg:py-12",maxWidth:"2xl",children:[(0,_.jsxs)(v(),{children:[(0,_.jsx)("title",{children:"Migrate | Memeswap"}),(0,_.jsx)("meta",{name:"description",content:"Migrate your liquidity to Memeswap."},"description"),(0,_.jsx)("meta",{name:"twitter:description",content:"Migrate your liquidity to Memeswap."},"twitter:description"),(0,_.jsx)("meta",{property:"og:description",content:"Migrate your liquidity to Memeswap."},"og:description")]}),(0,_.jsxs)("div",{className:"p-4 mb-3 space-y-3",children:[(0,_.jsx)(f.Z,{}),(0,_.jsx)(O.Z,{component:"h1",variant:"h2",children:t._(t._("Migrate {exchange} Liquidity",{exchange:e}))})]}),r?(0,_.jsx)("div",{className:"p-4 space-y-4 rounded bg-dark-900",children:o.loading?(0,_.jsx)(O.Z,{variant:"lg",className:"p-4 text-center text-primary",children:(0,_.jsx)(b.Z,{children:t._(t._("Loading your {exchange} liquidity positions",{exchange:e}))})}):(0,_.jsxs)(_.Fragment,{children:[!o.loading&&o.lpTokens.length>0&&(0,_.jsxs)("div",{children:[(0,_.jsx)(O.Z,{variant:"lg",children:t._(t._("Your Liquidity"))}),(0,_.jsx)(O.Z,{variant:"sm",className:"text-secondary",children:t._("Click on a pool below, input the amount you wish to migrate or select max, and click\nmigrate")})]}),(0,_.jsx)(H,{state:o,exchange:e}),(0,_.jsx)(W,{state:o}),o.selectedLPToken&&(0,_.jsx)(J,{state:o,exchange:e})]})}):(0,_.jsx)(S.Z,{className:"w-full !bg-dark-900 bg-gradient-to-r from-opaque-blue/80 hover:from-opaque-blue to-green/80 hover:to-green text-white h-[38px]"})]})}},92985:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/legacy/migrate",function(){return n(80108)}])},57458:function(e,t){!function(e){var t,n,r,a=String.fromCharCode;function o(e){for(var t,n,r=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function i(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return a(e>>t&63|128)}function c(e){if(0==(4294967168&e))return a(e);var t="";return 0==(4294965248&e)?t=a(e>>6&31|192):0==(4294901760&e)?(i(e),t=a(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=a(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=a(63&e|128)}function l(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,a;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((a=(31&e)<<6|l())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&e)){if((a=(15&e)<<12|l()<<6|l())>=2048)return i(a),a;throw Error("Invalid continuation byte")}if(240==(248&e)&&(a=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=o(e),n=t.length,r=-1,a="";++r<n;)a+=c(t[r]);return a},e.decode=function(e){t=o(e),n=t.length,r=0;for(var i,s=[];!1!==(i=u());)s.push(i);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=a(t);return o}(s)}}(t)},68163:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=a}},function(e){e.O(0,[7230,9774,2888,179],(function(){return t=92985,e(e.s=t);var t}));var t=e.O();_N_E=t}]);