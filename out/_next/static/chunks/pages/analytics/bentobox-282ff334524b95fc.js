(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8926],{20701:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(59499),i=n(55929),a=n(83567),o=n(85874),l=n(89046),s=n(41664),c=n.n(s),u=n(67294),d=n(79521),f=n(49501),v=n(56785),h=n(16339),x=n(83898),g=n(85893),m=function(){var e=(0,f.mV)().i18n,t=(0,h.C)(x.i0).searchQuery;return(0,g.jsx)("div",{className:"flex flex-row items-center justify-between px-2 py-2",children:(0,g.jsx)(v.Z,{variant:"base",className:"text-high-emphesis",weight:700,children:t?"".concat(e._(e._("Search results for"))," '").concat(t,"'"):e._(e._("Top Tokens"))})})},p=n(73232),b=function(e){!function(e){var t=(0,h.C)(p.i0).searchQuery;(0,u.useMemo)((function(){return e("token",{searchQuery:t})}),[t,e])}(e)},w=n(19485),j=n(31518),y=n(41626),P=n(31969),N=n(62483),C=n(8100),k=function(e,t,n){return e.filter((function(e){var t,r,i,a,o=e.original,l=null===o||void 0===o||null===(t=o.token)||void 0===t||null===(r=t.name)||void 0===r||null===(i=r.concat(null===o||void 0===o||null===(a=o.token)||void 0===a?void 0:a.symbol))||void 0===i?void 0:i.toLowerCase();return!n.searchQuery.length||l.includes(n.searchQuery.toLowerCase())}))};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.chainId,n=function(e){var t=(0,N.e_)(),n=(0,C.ZP)(e?"/api/analytics/bentobox/".concat(e):null,(function(e){return fetch(e).then((function(e){return e.json()}))})).data,r=null===n||void 0===n?void 0:n.bentoBoxTokens,i=(0,u.useMemo)((function(){return[{Header:"Name",accessor:"token",maxWidth:100,Cell:function(n){var r=(0,w.getAddress)(n.value.id),i=(0,u.useMemo)((function(){return r in t?t[r]:new j.WU(e,r,Number(n.value.decimals),n.value.symbol,n.value.name)}),[n,r]);return(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(y.X,{currency:null!==i&&void 0!==i?i:void 0,className:"!rounded-full",size:36}),n.value.symbol]})},filter:k},{Header:"Price",accessor:"price",minWidth:150,Cell:function(e){return(0,P.uf)(e.value,!0,void 0,2)},align:"right"},{Header:"Liquidity",accessor:"liquidity",minWidth:150,Cell:function(e){return(0,P.uf)(e.value,!0,!1)},align:"right"},{id:"target",Header:"Strategy Target",accessor:"strategy.targetPercentage",minWidth:150,Cell:function(e){return(0,P.T3)(e.value)}},{id:"utilisation",Header:"Strategy Utilization",accessor:"strategy.utilization",minWidth:150,Cell:function(e){return(0,P.T3)(e.value)}},{Header:"APY",accessor:"strategy.apy",minWidth:150,Cell:function(e){return(0,P.T3)(e.value)}}]}),[t,e]);return(0,u.useMemo)((function(){return{config:{columns:i,data:null!==r&&void 0!==r?r:[],initialState:{sortBy:[{id:"liquidity",desc:!0},{id:"price",desc:!0},{id:"targetPercentage",desc:!0},{id:"utilization",desc:!0},{id:"apy",desc:!0}]},autoResetFilters:!1}}}),[i,r])}(t),r=n.config,s=(0,d.useTable)(r,d.useFlexLayout,d.useFilters,d.useSortBy,d.useFlexLayout,d.usePagination),f=s.getTableProps,v=s.getTableBodyProps,h=s.headerGroups,x=s.rows,p=s.page,_=s.gotoPage,Z=s.canPreviousPage,B=s.canNextPage,R=s.prepareRow,E=s.setFilter,T=(s.toggleSortBy,s.state),z=T.pageIndex,S=T.pageSize;return b(E),(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)(m,{}),(0,g.jsx)("div",{className:l._O,children:(0,g.jsxs)("table",O(O({},f()),{},{className:l.RR,children:[(0,g.jsx)("thead",{children:h.map((function(e,t){return(0,u.createElement)("tr",O(O({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map((function(t,n){return(0,u.createElement)("th",O(O({},t.getHeaderProps(t.getSortByToggleProps())),{},{key:n,className:(0,l.G0)(n,e.headers.length)}),t.render("Header"),(0,g.jsx)("span",{className:"inline-block ml-1 align-middle",children:t.isSorted?t.isSortedDesc?(0,g.jsx)(i.Z,{width:12}):(0,g.jsx)(a.Z,{width:12}):""}))})))}))}),(0,g.jsx)("tbody",O(O({},v()),{},{children:p.map((function(e,n){return R(e),(0,g.jsx)(c(),{href:{pathname:"/analytics/tokens/".concat(e.original.token.id),query:{chainId:t}},passHref:!0,children:(0,u.createElement)("tr",O(O({},e.getRowProps()),{},{key:n,className:l.vu}),e.cells.map((function(t,n){return(0,g.jsx)("td",O(O({},t.getCellProps()),{},{className:(0,l.zm)(n,e.cells.length),children:t.render("Cell")}),n)})))},n)}))}))]}))}),(0,g.jsx)(o.a,{pageIndex:z,pageSize:S,totalItems:x.length,gotoPage:_,canPreviousPage:Z,canNextPage:B,loading:!x.length})]})}},26510:function(e,t,n){"use strict";var r=n(69743),i=n(49501),a=n(16339),o=n(83898),l=n(85893);t.Z=function(){var e=(0,i.mV)().i18n,t=(0,a.T)();return(0,l.jsx)("div",{className:"flex items-center flex-grow w-full gap-4 sm:w-auto",children:(0,l.jsxs)("div",{className:"flex items-center flex-grow w-full gap-2 px-3 py-2 bg-opacity-50 border rounded border-dark-800 bg-dark-900 sm:w-auto",children:[(0,l.jsx)(r.Z,{strokeWidth:3,width:20,height:20}),(0,l.jsx)("input",{className:"w-full bg-transparent text-high-emphesis placeholder:text-low-emphesis",placeholder:e._(e._("Search by token name or symbol")),onChange:function(e){return t((0,o.zr)(e.target.value))}})]})})}},28297:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(67294);var r=n(85893);function i(e){var t=e.text,n=e.number;return(0,r.jsxs)("div",{className:"w-full py-3 border px-9 border-dark-900 rounded shadow-md bg-[rgba(0,0,0,0.12)]",children:[(0,r.jsx)("div",{className:"whitespace-nowrap",children:t}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:n})]})}},26867:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return x},default:function(){return g}});var r=n(49501),i=n(22680),a=(n(67294),n(56785)),o=n(85893),l=function(){var e=(0,r.mV)().i18n;return(0,o.jsx)(i.CV,{className:"sm:!flex-row justify-between items-center",pattern:"bg-bubble",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(a.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:e._(e._("BentoBox Analytics."))}),(0,o.jsx)(a.Z,{variant:"sm",weight:400,children:e._(e._("Click on the column name to sort BentoBox tokens by price, liquidity, volume, APY etc..."))})]})})},s=n(20701),c=n(26510),u=n(28297),d=n(47448),f=n(11163),v=n(2962),h=n(8100),x=!0;function g(e){var t=e.fallback;return(0,o.jsx)(h.J$,{value:{fallback:t},children:(0,o.jsx)(m,{})})}function m(){var e,t,n,r,a=(0,f.useRouter)(),x=Number(a.query.chainId),g=(0,h.ZP)(x?"/api/analytics/bentobox/".concat(x):null,(function(e){return fetch(e).then((function(e){return e.json()}))})).data;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.PB,{title:"BentoBox Anlytics"}),(0,o.jsx)(l,{}),(0,o.jsxs)(i.A9,{children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-high-emphesis",children:"KPIs"}),(0,o.jsxs)("div",{className:"flex flex-row space-x-4 overflow-auto",children:[(0,o.jsx)(u.Z,{text:"TVL",number:(0,d.uf)(null===g||void 0===g?void 0:g.bentoBox.tvl)}),(0,o.jsx)(u.Z,{text:"User Count",number:(null===g||void 0===g||null===(e=g.bentoBox)||void 0===e?void 0:e.userCount)||0}),(0,o.jsx)(u.Z,{text:"Token Count",number:(null===g||void 0===g||null===(t=g.bentoBox)||void 0===t?void 0:t.tokenCount)||0}),(0,o.jsx)(u.Z,{text:"Flashloan Count",number:(null===g||void 0===g||null===(n=g.bentoBox)||void 0===n?void 0:n.flashloanCount)||0}),(0,o.jsx)(u.Z,{text:"Transaction Count",number:(null===g||void 0===g||null===(r=g.bentoBox)||void 0===r?void 0:r.transactionCount)||0})]}),(0,o.jsxs)("div",{className:"flex flex-col w-full gap-10",children:[(0,o.jsx)(c.Z,{}),(0,o.jsx)(s.Z,{chainId:x})]})]})]})}},83898:function(e,t,n){"use strict";n.d(t,{i0:function(){return r.i0},zr:function(){return r.zr}});var r=n(73232)},22160:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/bentobox",function(){return n(26867)}])},55929:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.Z=i},83567:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}));t.Z=i},94323:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.Z=i},51183:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}));t.Z=i},69743:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}));t.Z=i}},function(e){e.O(0,[9521,8769,9774,2888,179],(function(){return t=22160,e(e.s=t);var t}));var t=e.O();_N_E=t}]);