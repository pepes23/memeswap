"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7030],{3382:function(e,t,r){var n=r(31969),a=r(76866),i=(r(67294),r(85893));t.Z=function(e){var t=e.children,r=e.className;return(0,a.Z)()?(0,i.jsxs)("div",{className:(0,n.AK)(r,"relative w-full max-w-2xl"),children:[(0,i.jsx)("div",{className:(0,n.AK)("from-pink/5 to-blue/5 fixed inset-0 bg-gradient-radial z-0 pointer-events-none")}),(0,i.jsx)("div",{className:"relative filter z-10",children:t})]}):(0,i.jsx)(i.Fragment,{children:t})}},23987:function(e,t,r){var n=r(59499),a=r(4730),i=r(31969),o=r(67294),s=r(85893),c=["value","onUserInput","placeholder","className","align","fontSize"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=RegExp("^\\d*$"),p=o.memo((function(e){var t=e.value,r=e.onUserInput,n=e.placeholder,o=e.className,l=e.align,p=e.fontSize,f=(0,a.Z)(e,c);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",u({value:t,onChange:function(e){var t;(""===(t=e.target.value.replace(/,/g,".").replace(/%/g,""))||d.test((0,i.hr)(t)))&&Number(t)<=100&&r(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*$",placeholder:n||"100%",maxLength:3,className:(0,i.AK)("right"===l&&"text-right","relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",o),style:{fontSize:p}},f))})}));p.displayName="PercentInput",t.Z=p},39281:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(59499),a=r(4730),i=r(31969),o=r(67294),s=r(85893),c=["value","onUserInput","placeholder","className","align","fontSize"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=o.memo((function(e){var t=e.value,r=e.onUserInput,n=(e.placeholder,e.className),o=void 0===n?"flex w-full h-full p-3 font-bold rounded overflow-ellipsis recipient-address-input bg-dark-900 placeholder-low-emphesis":n,l=e.align,d=e.fontSize,p=void 0===d?"24px":d,f=(0,a.Z)(e,c);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",u({value:t,onChange:function(e){r(e.target.value.replace(/\s+/g,""))},inputMode:"text",title:"Wallet Address or ENS name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:"Wallet Address or ENS name",pattern:"^(0x[a-fA-F0-9]{40})$",type:"text",className:(0,i.AK)("right"===l&&"text-right","font-medium bg-transparent whitespace-nowrap overflow-ellipsis flex-auto",o),style:{fontSize:p}},f))})}));d.displayName="AddressInput";var p=d,f=r(48410),m={Address:p,Percent:r(23987).Z,Numeric:f.Z}},15205:function(e,t,r){var n=r(49501),a=r(71862),i=r(45486),o=r(39281),s=r(56785),c=r(31969),l=r(46472),u=r(16339),d=r(67294),p=r(85893);t.Z=function(e){var t=e.recipient,r=e.action,f=(0,n.mV)().i18n,m=(0,l.Z)(t),h=m.address,g=m.loading,x=(0,u.T)(),v=(0,d.useState)(!1),O=v[0],b=v[1],j=(0,d.useMemo)((function(){return Boolean(t&&t.length>0&&!g&&!h)}),[h,g,t]);(0,d.useEffect)((function(){return function(){x(r(void 0))}}),[r,x]),(0,d.useEffect)((function(){!j&&h&&x(r(h))}),[r,h,x,j]);var y=(0,d.useCallback)((function(){b(!1),x(r(void 0))}),[r,x]);return O?(0,p.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)(s.Z,{variant:"sm",className:"px-2",children:f._(f._("Recipient"))}),(0,p.jsx)(i.Z,{width:18,className:"text-secondary hover:text-white cursor-pointer",onClick:y})]}),(0,p.jsx)("div",{className:(0,c.AK)(j?"ring ring-red":"","flex justify-between items-baseline bg-dark-900 rounded px-4 py-3 border border-dark-700 hover:border-dark-600"),children:(0,p.jsx)(s.Z,{weight:700,variant:"lg",className:"flex gap-3 flex-grow items-baseline relative overflow-hidden",children:(0,p.jsx)(o.Z.Address,{className:"!text-sm leading-[32px] focus:placeholder:text-low-emphesis flex-grow w-full text-left bg-transparent text-inherit disabled:cursor-not-allowed",onUserInput:function(e){return x(r(e))},value:null!==t&&void 0!==t?t:""})})})]}):(0,p.jsx)("div",{className:"flex justify-center",children:(0,p.jsx)(a.ZP,{size:"xs",color:"blue",variant:"empty",className:"flex gap-1 py-1.5",onClick:function(){return b(!0)},children:f._(f._("Add recipient"))})})}},25183:function(e,t,r){var n=r(50029),a=r(59499),i=r(87794),o=r.n(i),s=r(31518),c=r(97448),l=r(53389),u=r(62483),d=r(12614),p=r(67294),f=r(8100);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g="".concat(c.Zu,"/orders/view"),x=function(e,t,r,n,a){return fetch(e,{method:"POST",body:JSON.stringify({address:t,chainId:r,page:a,pendingPage:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.data}))};t.Z=function(){var e=(0,d.aQ)(),t=e.account,r=e.chainId,a=(0,l.JY)(),i=(0,u.e_)(),m=(0,p.useState)({pending:{page:1,maxPages:0,data:[],loading:!0,totalOrders:0},completed:{page:1,maxPages:0,data:[],loading:!0,totalOrders:0}}),v=m[0],O=m[1],b=(0,p.useMemo)((function(){return g&&t&&r?[g,t,r,v.pending.page,v.completed.page]:null}),[t,r,v.completed.page,v.pending.page]),j=(0,f.ZP)(b,x),y=j.data,w=j.mutate,P=(0,p.useCallback)((function(e){O((function(t){return h(h({},t),{},{pending:h(h({},t.pending),{},{page:e,loading:!0})})}))}),[]),N=(0,p.useCallback)((function(e){O((function(t){return h(h({},t),{},{completed:h(h({},t.completed),{},{page:e,loading:!0})})}))}),[]);return(0,p.useEffect)((function(){if(t&&r&&y&&y.pendingOrders&&y.otherOrders&&Array.isArray(y.pendingOrders.orders)&&Array.isArray(y.otherOrders.orders)){var e=function(){var e=(0,n.Z)(o().mark((function e(t){var n,a,l,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.eN.getLimitOrder(h(h({},t),{},{stopPrice:"0",chainId:+t.chainId,tokenInDecimals:+t.tokenInDecimals,tokenOutDecimals:+t.tokenOutDecimals})),a=n.amountIn.currency,l=n.amountOut.currency,u=t.filledAmount?s.ih.fromRawAmount(a,t.filledAmount):void 0,d={id:t._id,tokenIn:i[a.address]||new s.WU(r,a.address.toLowerCase(),a.decimals,a.symbol),tokenOut:i[l.address]||new s.WU(r,l.address.toLowerCase(),l.decimals,l.symbol),limitOrder:n,filledPercent:t.status===c.iF.FILLED?"100":u?new s.gG(u.quotient,n.amountIn.quotient).toSignificant(2):"0.00",status:t.status,rate:new s.tA({baseAmount:n.amountIn,quoteAmount:n.amountOut})},e.abrupt("return",d);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var t=(0,n.Z)(o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(y.pendingOrders.orders.map((function(t,r){return e(h(h({},t),{},{filledAmount:y.pendingOrders.filledAmounts[r]}))})));case 2:return r=t.sent,t.next=5,Promise.all(y.otherOrders.orders.map((function(t){return e(t)})));case 5:n=t.sent,O((function(e){return{pending:h(h({},e.pending),{},{data:r,maxPages:y.pendingOrders.pendingOrderMaxPage,loading:!1,totalOrders:y.pendingOrders.totalPendingOrders}),completed:h(h({},e.completed),{},{data:n,maxPages:y.otherOrders.maxPage,loading:!1,totalOrders:y.otherOrders.totalOrders})}}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a()}}),[t,r,y,a,P,N]),(0,p.useMemo)((function(){return h(h({},v),{},{pending:h(h({},v.pending),{},{setPage:P}),completed:h(h({},v.completed),{},{setPage:N}),mutate:w})}),[w,N,P,v])}},59497:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(49501),a=r(64958),i=r(94492),o=r(56785),s=r(38239),c=r(80943),l=r(31969),u=(r(67294),r(85893)),d={gray:"bg-dark-700",blue:"bg-blue",pink:"bg-pink",red:"bg-red"},p=function(e){var t=e.children,r=e.color,n=e.value;return(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:(0,l.AK)(d[r],"ring ring-dark-900/40 flex items-center justify-center shadow-md absolute top-[-6px] right-[-6px] h-4 w-4 rounded-full p-1 pointer-events-none"),children:(0,u.jsx)(o.Z,{variant:"xxs",component:"span",className:"text-white",children:n})}),t]})},f=r(54962),m=r(25183),h=r(41664),g=r.n(h),x=function(){var e=(0,n.mV)().i18n,t=(0,m.Z)().pending,r=(0,u.jsx)(f.Z,{text:e._(e._("Open orders")),icon:(0,u.jsx)(c.Z,{width:24,height:24,className:"cursor-pointer hover:text-white"})});return(0,u.jsx)(g(),{href:"/limit-order/open",children:(0,u.jsx)("a",{children:t.totalOrders>0?(0,u.jsx)(p,{color:"blue",value:t.totalOrders,children:r}):r})})},v=r(12614),O=r(11163),b=function(e,t){if(e||t)return e&&!t?{inputCurrency:e.address||"ETH"}:e&&t?{inputCurrency:e.address,outputCurrency:t.address}:void 0},j=function(e){var t=e.inputCurrency,r=e.outputCurrency,c=e.trident,d=void 0!==c&&c,p=(0,v.aQ)().chainId,f=(0,n.mV)().i18n,m=(0,O.useRouter)().asPath.startsWith("/limit-order");return(0,u.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsx)(a.Z,{activeClassName:"text-high-emphesis",href:{pathname:"/swap",query:b(t,r)},children:(0,u.jsx)(o.Z,{weight:700,className:"text-secondary hover:text-white",children:f._(f._("Swap"))})}),(0,l.vR)(s.L.LIMIT_ORDERS,p)?(0,u.jsx)(a.Z,{activeClassName:"text-high-emphesis",href:{pathname:"/limit-order",query:b(t,r)},children:(0,u.jsx)(o.Z,{weight:700,className:"text-secondary hover:text-white",children:f._(f._("Limit"))})}):null]}),(0,u.jsxs)("div",{className:"flex gap-4",children:[m&&(0,u.jsx)(x,{}),(0,u.jsx)(i.Z,{className:"!w-6 !h-6",trident:d})]})]})}},73179:function(e,t,r){r.d(t,{Pf:function(){return p},yz:function(){return u}});var n=r(59499),a=r(72457),i=r(3382),o=r(31969),s=(r(67294),r(76138)),c=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u=function(e){var t=e.children,r=e.className;return(0,c.jsx)("div",{className:(0,o.AK)("flex flex-col gap-3 p-2 md:p-4 pt-4 rounded-[24px] bg-dark-800 shadow-md shadow-dark-1000",r),children:t})},d=function(e){var t=e.children,r=e.id;return(0,c.jsx)(s.Z,{children:(0,c.jsx)(a.Z,{id:r,className:"py-4 md:py-12 lg:py-[120px] px-2 mx-auto",maxWidth:"md",children:(0,c.jsx)(i.Z,{children:t})})})},p=function(e){return function(t){return(0,c.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e},t))}}}}]);